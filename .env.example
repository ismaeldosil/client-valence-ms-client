# ===========================================
# Teams Agent Integration - Environment Config
# ===========================================

# Environment
ENVIRONMENT=development
LOG_LEVEL=DEBUG

# Mock Servers (Phase 0)
MOCK_AGENT_PORT=8080
MOCK_WEBHOOK_PORT=3000

# Teams (Optional for Phase 0)
# Power Automate Workflow URL (replaces deprecated Incoming Webhooks)
TEAMS_WORKFLOW_URL=

# Phase 1: Notificaciones (Agent -> Teams)
# For local testing, use mock webhook: http://localhost:3000/webhook
# For production, use Power Automate Workflow URLs
TEAMS_WORKFLOW_ALERTS=http://localhost:3000/webhook
TEAMS_WORKFLOW_REPORTS=http://localhost:3000/webhook
TEAMS_WORKFLOW_GENERAL=http://localhost:3000/webhook
NOTIFIER_API_KEY=dev-api-key
NOTIFIER_PORT=8001

# Phase 2: Consultas (Teams -> Agent)
# HMAC Secret from Teams Outgoing Webhook (Base64 encoded)
TEAMS_HMAC_SECRET=
# Receiver port (must be exposed via ngrok/tunnel for Teams)
RECEIVER_PORT=3000
# Agent API URL (use localhost:8080 for mock, or real agent URL)
AGENT_BASE_URL=http://localhost:8000
# Agent API Key (optional, depends on agent configuration)
AGENT_API_KEY=
# Timeout in seconds (MUST be < 5s for Teams Outgoing Webhooks!)
AGENT_TIMEOUT=4.5
# Max retries (limited due to Teams 5s timeout)
AGENT_MAX_RETRIES=1

# Phase 3: Memoria
# SESSION_STORE=redis
# SESSION_TTL_HOURS=24
# SESSION_MAX_MESSAGES=50
# REDIS_URL=redis://localhost:6379/0
